telegraf:
  managed: false

  global_tags: {}

  agent_config:
    debug: false
    quiet: false
    logfile: ''
    hostname: '{{ grains['fqdn'] }}'
    omit_hostname: false

    interval: '10s'
    collection_jitter: '0s'
    flush_interval: '10s'
    flush_jitter: '0s'
    precision: ''

    round_interval: true
    metric_batch_size: 1000
    metric_buffer_limit: 10000

  processors: {}
  aggregators: {}
  inputs: {}
  outputs: {}

  <os_family>:
    Debian:
      packages: ['telegraf']

      service: 'telegraf'
      service_user: 'telegraf'
      service_group: 'telegraf'

      config_path: '/etc/telegraf/telegraf.conf'
      config_check_cmd: '/usr/bin/telegraf -test -config'

      repository_sources:
        - 'deb https://repos.influxdata.com/debian {{ grains['oscodename'] }} stable'
      repository_gpg_key_url: 'https://repos.influxdata.com/influxdb.key'
