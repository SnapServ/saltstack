prosody:
  managed: False

  modules_enabled:
    - 'admin_adhoc'
    - 'blocklist'
    - 'carbons'
    - 'dialback'
    - 'disco'
    - 'pep'
    - 'private'
    - 'roster'
    - 'saslauth'
    - 'time'
    - 'tls'
    - 'uptime'
    - 'vcard_legacy'
    - 'vcard4'
    - 'version'
  modules_disabled: []
  community_modules: []
  community_modules_revision: '78049e8b5a6b'

  admins: []
  allow_registration: false
  authentication_backend: 'internal_hashed'
  storage_backend: 'internal'
  statistics_backend: 'internal'

  c2s_require_encryption: true
  s2s_require_encryption: true
  s2s_verify_certificate: false
  s2s_secure_domains: []
  s2s_insecure_domains: []

  extra_config: {}
  virtual_hosts: {}
  components: {}

  <os_family>:
    Debian:
      packages:
        - 'mercurial'
        - 'prosody'
        - 'lua-dbi-mysql'
        - 'lua-event'
        - 'lua-sec'

      service: 'prosody'
      service_user: 'prosody'
      service_group: 'prosody'

      logfile_dir: '/var/log/prosody'
      pidfile_path: '/run/prosody/prosody.pid'
      certs_dir: '/etc/prosody/certs'
      config_path: '/etc/prosody/prosody.cfg.lua'
      community_modules_dir: '/usr/local/lib/prosody-modules'

      repository_sources:
        - 'deb https://packages.prosody.im/debian {{ grains['oscodename'] }} main'
      repository_gpg_key_url: 'https://prosody.im/files/prosody-debian-packages.key'
